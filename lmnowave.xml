<?xml version="1.0" encoding="UTF-8" ?>

<Module>
  <ModulePrefs title="lmnowave" height="500">
   <Require feature="rpc"/>
   <Require feature="wave" />
   <Require feature="dynamic-height" />
  </ModulePrefs>

  <Content type="html">
  <![CDATA[
    <script type="text/javascript"
      src="http://wave-api.appspot.com/public/wave.js"></script>
        <link rel="stylesheet" type="text/css" href="http://danvk.org/lmnowave/crossword.css"/>
<style type='text/css'>
body {
  margin: 0ex 1ex;
}
body, td, input {
  font-family: serif;
}

h1 {
  font-size: 140%;
  margin: 0.2ex 0;
}

h2 {
  font-size: 110%;
}

h3 {
  font-size: 100%;
  margin: 0;
}
</style>

<script src='http://danvk.org/lmnowave/common.js'></script>
<script src='http://danvk.org/lmnowave/console.js'></script>
<script src='http://danvk.org/lmnowave/crosswordui.js'></script>
<script src='http://danvk.org/lmnowave/cluesui.js'></script>
<script src='http://danvk.org/lmnowave/focusbox.js'></script>
<script src='http://danvk.org/lmnowave/roster.js'></script>
<script src='http://danvk.org/lmnowave/puzparser.js'></script>
<script src='http://danvk.org/lmnowave/lmnowave.js'></script>

<div id="upload" style="display:none">
  <p>Choose a .puz file and click "Play"</p>
  <input type="file" id="puz" /><br/>
  <input type="button" value="Play" onclick="addPuzToWave()" />
  </form>
</div>

<!-- do onblur and onfocus mean anything to a table? -->
<div id="crossword_container" style="display:none">
<table cellspacing='0' cellpadding='0' id='toptable' >
  <tr valign='top'>
    <td><div id='crossword' style='margin-right: 2ex'></div></td>
    <td><div id='clues'></div></td>
  </tr>
</table>

<table cellspacing='0' cellpadding='0' style='padding-top: 1ex' id='bottomtable'>
  <tr valign='top'>
    <td style='width:100%'><div id='console'></div></td>
  </tr>
</table>
</div>

<script type="text/javascript">
  gadgets.util.registerOnLoadHandler(function() {
    if (wave && wave.isInWaveContainer()) {
      wave.setStateCallback(stateUpdated);
    }
  });
</script>
  ]]>
  </Content>
</Module>
